/*! fancyBox v2.0.6 fancyapps.com | fancyapps.com/fancybox/#license */
(function(u,n,l,a){var o=l(u),t=l(n),k=l.fancybox=function(){k.open.apply(this,arguments)},d=!1,m=n.createTouch!==a,s=function(b){return"string"===l.type(b)},q=function(b,c){c&&s(b)&&0<b.indexOf("%")&&(b=k.getViewport()[c]/100*parseInt(b,10));return Math.round(b)+"px"};l.extend(k,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!m,autoCenter:!m,fitToView:!0,aspectRatio:!1,topRatio:0.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3000,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(l.browser.msie?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:0.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}}},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(b,c){k.close(!0);b&&!l.isArray(b)&&(b=b instanceof l?l(b).get():[b]);k.isActive=!0;k.opts=l.extend(!0,{},k.defaults,c);l.isPlainObject(c)&&c.keys!==a&&(k.opts.keys=c.keys?l.extend({},k.defaults.keys,c.keys):!1);k.group=b;k._start(k.opts.index||0)},cancel:function(){k.coming&&!1===k.trigger("onCancel")||(k.coming=null,k.hideLoading(),k.ajaxLoad&&k.ajaxLoad.abort(),k.ajaxLoad=null,k.imgPreload&&(k.imgPreload.onload=k.imgPreload.onabort=k.imgPreload.onerror=null))},close:function(b){k.cancel();k.current&&!1!==k.trigger("beforeClose")&&(k.unbindEvents(),!k.isOpen||b&&!0===b[0]?(l(".fancybox-wrap").stop().trigger("onReset").remove(),k._afterZoomOut()):(k.isOpen=k.isOpened=!1,l(".fancybox-item, .fancybox-nav").remove(),k.wrap.stop(!0).removeClass("fancybox-opened"),k.inner.css("overflow","hidden"),k.transitions[k.current.closeMethod]()))},play:function(c){var b=function(){clearTimeout(k.player.timer)},e=function(){b();k.current&&k.player.isActive&&(k.player.timer=setTimeout(k.next,k.current.playSpeed))},f=function(){b();l("body").unbind(".player");k.player.isActive=!1;k.trigger("onPlayEnd")};if(k.player.isActive||c&&!1===c[0]){f()}else{if(k.current&&(k.current.loop||k.current.index<k.group.length-1)){k.player.isActive=!0,l("body").bind({"afterShow.player onUpdate.player":e,"onCancel.player beforeClose.player":f,"beforeLoad.player":b}),e(),k.trigger("onPlayStart")}}},next:function(){k.current&&k.jumpto(k.current.index+1)},prev:function(){k.current&&k.jumpto(k.current.index-1)},jumpto:function(b){k.current&&(b=parseInt(b,10),1<k.group.length&&k.current.loop&&(b>=k.group.length?b=0:0>b&&(b=k.group.length-1)),k.group[b]!==a&&(k.cancel(),k._start(b)))},reposition:function(b,c){var e;k.isOpen&&(e=k._getPosition(c),b&&"scroll"===b.type?(delete e.position,k.wrap.stop(!0,!0).animate(e,200)):k.wrap.css(e))},update:function(b){k.isOpen&&(d||setTimeout(function(){var c=k.current,e=!b||b&&"orientationchange"===b.type;if(d&&(d=!1,c)){if(!b||"scroll"!==b.type||e){c.autoSize&&"iframe"!==c.type&&(k.inner.height("auto"),c.height=k.inner.height()),(c.autoResize||e)&&k._setDimension(),c.canGrow&&"iframe"!==c.type&&k.inner.height("auto")}(c.autoCenter||e)&&k.reposition(b);k.trigger("onUpdate")}},200),d=!0)},toggle:function(){k.isOpen&&(k.current.fitToView=!k.current.fitToView,k.update())},hideLoading:function(){t.unbind("keypress.fb");l("#fancybox-loading").remove()},showLoading:function(){k.hideLoading();t.bind("keypress.fb",function(b){27===b.keyCode&&(b.preventDefault(),k.cancel())});l('<div id="fancybox-loading"><div></div></div>').click(k.cancel).appendTo("body")},getViewport:function(){return{x:o.scrollLeft(),y:o.scrollTop(),w:m&&u.innerWidth?u.innerWidth:o.width(),h:m&&u.innerHeight?u.innerHeight:o.height()}},unbindEvents:function(){k.wrap&&k.wrap.unbind(".fb");t.unbind(".fb");o.unbind(".fb")},bindEvents:function(){var b=k.current,c=b.keys;b&&(o.bind("resize.fb orientationchange.fb"+(b.autoCenter&&!b.fixed?" scroll.fb":""),k.update),c&&t.bind("keydown.fb",function(f){var e;e=f.target||f.srcElement;if(!f.ctrlKey&&!f.altKey&&!f.shiftKey&&!f.metaKey&&(!e||!e.type&&!l(e).is("[contenteditable]"))){e=f.keyCode,-1<l.inArray(e,c.close)?(k.close(),f.preventDefault()):-1<l.inArray(e,c.next)?(k.next(),f.preventDefault()):-1<l.inArray(e,c.prev)&&(k.prev(),f.preventDefault())}}),l.fn.mousewheel&&b.mouseWheel&&1<k.group.length&&k.wrap.bind("mousewheel.fb",function(g,e){var f=g.target||null;if(0!==e&&(!f||0===f.clientHeight||f.scrollHeight===f.clientHeight&&f.scrollWidth===f.clientWidth)){g.preventDefault(),k[0<e?"prev":"next"]()}}))},trigger:function(c,b){var e,f=b||k[-1<l.inArray(c,["onCancel","beforeLoad","afterLoad"])?"coming":"current"];if(f){l.isFunction(f[c])&&(e=f[c].apply(f,Array.prototype.slice.call(arguments,1)));if(!1===e){return !1}f.helpers&&l.each(f.helpers,function(h,g){if(g&&l.isPlainObject(k.helpers[h])&&l.isFunction(k.helpers[h][c])){k.helpers[h][c](g,f)}});l.event.trigger(c+".fb")}},isImage:function(b){return s(b)&&b.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(b){return s(b)&&b.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var h={},b=k.group[e]||null,c,f,g;if(b&&(b.nodeType||b instanceof l)){c=!0,l.metadata&&(h=l(b).metadata())}h=l.extend(!0,{},k.opts,{index:e,element:b},l.isPlainObject(b)?b:h);l.each(["href","title","content","type"],function(j,i){h[i]=k.opts[i]||c&&l(b).attr(i)||h[i]||null});"number"===typeof h.margin&&(h.margin=[h.margin,h.margin,h.margin,h.margin]);h.modal&&l.extend(!0,h,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}});k.coming=h;if(!1===k.trigger("beforeLoad")){k.coming=null}else{f=h.type;e=h.href||b;f||(c&&(f=l(b).data("fancybox-type"),f||(f=(f=b.className.match(/fancybox\.(\w+)/))?f[1]:null)),!f&&s(e)&&(k.isImage(e)?f="image":k.isSWF(e)?f="swf":e.match(/^#/)&&(f="inline")),f||(f=c?"inline":"html"),h.type=f);if("inline"===f||"html"===f){if(h.content||(h.content="inline"===f?l(s(e)?e.replace(/.*(?=#[^\s]+$)/,""):e):b),!h.content||!h.content.length){f=null}}else{e||(f=null)}"ajax"===f&&s(e)&&(g=e.split(/\s+/,2),e=g.shift(),h.selector=g.shift());h.href=e;h.group=k.group;h.isDom=c;switch(f){case"image":k._loadImage();break;case"ajax":k._loadAjax();break;case"inline":case"iframe":case"swf":case"html":k._afterLoad();break;default:k._error("type")}}},_error:function(b){k.hideLoading();l.extend(k.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:b,content:k.coming.tpl.error});k._afterLoad()},_loadImage:function(){var b=k.imgPreload=new Image;b.onload=function(){this.onload=this.onerror=null;k.coming.width=this.width;k.coming.height=this.height;k._afterLoad()};b.onerror=function(){this.onload=this.onerror=null;k._error("image")};b.src=k.coming.href;(b.complete===a||!b.complete)&&k.showLoading()},_loadAjax:function(){k.showLoading();k.ajaxLoad=l.ajax(l.extend({},k.coming.ajax,{url:k.coming.href,error:function(b,c){k.coming&&"abort"!==c?k._error("ajax",b):k.hideLoading()},success:function(b,c){"success"===c&&(k.coming.content=b,k._afterLoad())}}))},_preloadImages:function(){var e=k.group,h=k.current,i=e.length,b,c,g,f=Math.min(h.preload,i-1);if(h.preload&&!(2>e.length)){for(g=1;g<=f;g+=1){if(b=e[(h.index+g)%i],c=b.href||l(b).attr("href")||b,"image"===b.type||k.isImage(c)){(new Image).src=c}}}},_afterLoad:function(){k.hideLoading();!k.coming||!1===k.trigger("afterLoad",k.current)?k.coming=!1:(k.isOpened?(l(".fancybox-item, .fancybox-nav").remove(),k.wrap.stop(!0).removeClass("fancybox-opened"),k.inner.css("overflow","hidden"),k.transitions[k.current.prevMethod]()):(l(".fancybox-wrap").stop().trigger("onReset").remove(),k.trigger("afterClose")),k.unbindEvents(),k.isOpen=!1,k.current=k.coming,k.wrap=l(k.current.tpl.wrap).addClass("fancybox-"+(m?"mobile":"desktop")+" fancybox-type-"+k.current.type+" fancybox-tmp "+k.current.wrapCSS).appendTo("body"),k.skin=l(".fancybox-skin",k.wrap).css("padding",q(k.current.padding)),k.outer=l(".fancybox-outer",k.wrap),k.inner=l(".fancybox-inner",k.wrap),k._setContent())},_setContent:function(){var e=k.current,h=e.content,i=e.type,b=e.minWidth,c=e.minHeight,g=e.maxWidth,f=e.maxHeight;switch(i){case"inline":case"ajax":case"html":e.selector?h=l("<div>").html(h).find(e.selector):h instanceof l&&(h.parent().hasClass("fancybox-inner")&&h.parents(".fancybox-wrap").unbind("onReset"),h=h.show().detach(),l(k.wrap).bind("onReset",function(){h.appendTo("body").hide()}));e.autoSize&&(b=l('<div class="fancybox-wrap '+k.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:q(b,"w"),minHeight:q(c,"h"),maxWidth:q(g,"w"),maxHeight:q(f,"h")}).append(h),e.width=b.width(),e.height=b.height(),b.width(k.current.width),b.height()>e.height&&(b.width(e.width+1),e.width=b.width(),e.height=b.height()),h=b.contents().detach(),b.remove());break;case"image":h=e.tpl.image.replace("{href}",e.href);e.aspectRatio=!0;break;case"swf":h=e.tpl.swf.replace(/\{width\}/g,e.width).replace(/\{height\}/g,e.height).replace(/\{href\}/g,e.href);break;case"iframe":h=l(e.tpl.iframe.replace("{rnd}",(new Date).getTime())).attr("scrolling",e.scrolling).attr("src",e.href),e.scrolling=m?"scroll":"auto"}if("image"===i||"swf"===i){e.autoSize=!1,e.scrolling="visible"}"iframe"===i&&e.autoSize?(k.showLoading(),k._setDimension(),k.inner.css("overflow",e.scrolling),h.bind({onCancel:function(){l(this).unbind();k._afterZoomOut()},load:function(){k.hideLoading();try{this.contentWindow.document.location&&(k.current.height=l(this).contents().find("body").height())}catch(j){k.current.autoSize=!1}k[k.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(k.inner)):(k.inner.append(h),k._beforeShow())},_beforeShow:function(){k.coming=null;k.trigger("beforeShow");k._setDimension();k.wrap.hide().removeClass("fancybox-tmp");k.bindEvents();k._preloadImages();k.transitions[k.isOpened?k.current.nextMethod:k.current.openMethod]()},_setDimension:function(){var e=k.wrap,h=k.inner,i=k.current,p=k.getViewport(),r=i.margin,B=2*i.padding,v=i.width,C=i.height,j=i.maxWidth+B,b=i.maxHeight+B,c=i.minWidth+B,f=i.minHeight+B,g;p.w-=r[1]+r[3];p.h-=r[0]+r[2];s(v)&&0<v.indexOf("%")&&(v=(p.w-B)*parseFloat(v)/100);s(C)&&0<C.indexOf("%")&&(C=(p.h-B)*parseFloat(C)/100);r=v/C;v+=B;C+=B;i.fitToView&&(j=Math.min(p.w,j),b=Math.min(p.h,b));if(i.aspectRatio){if(v>j&&(v=j,C=(v-B)/r+B),C>b&&(C=b,v=(C-B)*r+B),v<c&&(v=c,C=(v-B)/r+B),C<f){C=f,v=(C-B)*r+B}}else{v=Math.max(c,Math.min(v,j)),C=Math.max(f,Math.min(C,b))}v=Math.round(v);C=Math.round(C);l(e.add(h)).width("auto").height("auto");h.width(v-B).height(C-B);e.width(v);g=e.height();if(v>j||g>b){for(;(v>j||g>b)&&v>c&&g>f;){C-=10,i.aspectRatio?(v=Math.round((C-B)*r+B),v<c&&(v=c,C=(v-B)/r+B)):v-=10,h.width(v-B).height(C-B),e.width(v),g=e.height()}}i.dim={width:q(v),height:q(g)};i.canGrow=i.autoSize&&C>f&&C<b;i.canShrink=!1;i.canExpand=!1;if(v-B<i.width||C-B<i.height){i.canExpand=!0}else{if((v>p.w||g>p.h)&&v>c&&C>f){i.canShrink=!0}}k.innerSpace=g-B-h.height()},_getPosition:function(e){var g=k.current,i=k.getViewport(),b=g.margin,h=k.wrap.width()+b[1]+b[3],f=k.wrap.height()+b[0]+b[2],c={position:"absolute",top:b[0]+i.y,left:b[3]+i.x};g.autoCenter&&g.fixed&&!e&&f<=i.h&&h<=i.w&&(c={position:"fixed",top:b[0],left:b[3]});c.top=q(Math.max(c.top,c.top+(i.h-f)*g.topRatio));c.left=q(Math.max(c.left,c.left+0.5*(i.w-h)));return c},_afterZoomIn:function(){var b=k.current,c=b?b.scrolling:"no";if(b&&(k.isOpen=k.isOpened=!0,k.wrap.addClass("fancybox-opened"),k.inner.css("overflow","yes"===c?"scroll":"no"===c?"hidden":c),k.trigger("afterShow"),k.update(),(b.closeClick||b.nextClick)&&k.inner.css("cursor","pointer").bind("click.fb",function(e){if(!l(e.target).is("a")&&!l(e.target).parent().is("a")){k[b.closeClick?"close":"next"]()}}),b.closeBtn&&l(b.tpl.closeBtn).appendTo(k.skin).bind("click.fb",k.close),b.arrows&&1<k.group.length&&((b.loop||0<b.index)&&l(b.tpl.prev).appendTo(k.outer).bind("click.fb",k.prev),(b.loop||b.index<k.group.length-1)&&l(b.tpl.next).appendTo(k.outer).bind("click.fb",k.next)),k.opts.autoPlay&&!k.player.isActive)){k.opts.autoPlay=!1,k.play()}},_afterZoomOut:function(){var b=k.current;k.wrap.trigger("onReset").remove();l.extend(k,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null});k.trigger("afterClose",b)}});k.transitions={getOrigPosition:function(){var e=k.current,h=e.element,i=e.padding,b=l(e.orig),c={},g=50,f=50;!b.length&&e.isDom&&l(h).is(":visible")&&(b=l(h).find("img:first"),b.length||(b=l(h)));b.length?(c=b.offset(),b.is("img")&&(g=b.outerWidth(),f=b.outerHeight())):(e=k.getViewport(),c.top=e.y+0.5*(e.h-f),c.left=e.x+0.5*(e.w-g));return c={top:q(c.top-i),left:q(c.left-i),width:q(g+2*i),height:q(f+2*i)}},step:function(e,g){var c=g.prop,b,f;if("width"===c||"height"===c){b=Math.ceil(e-2*k.current.padding),"height"===c&&(f=(e-g.start)/(g.end-g.start),g.start>g.end&&(f=1-f),b-=k.innerSpace*f),k.inner[c](b)}},zoomIn:function(){var e=k.wrap,h=k.current,b=h.openEffect,c="elastic"===b,f=l.extend({},h.dim,k._getPosition(c)),g=l.extend({opacity:1},f);delete g.position;c?(f=this.getOrigPosition(),h.openOpacity&&(f.opacity=0),k.outer.add(k.inner).width("auto").height("auto")):"fade"===b&&(f.opacity=0);e.css(f).show().animate(g,{duration:"none"===b?0:h.openSpeed,easing:h.openEasing,step:c?this.step:null,complete:k._afterZoomIn})},zoomOut:function(){var e=k.wrap,g=k.current,b=g.openEffect,c="elastic"===b,f={opacity:0};c&&("fixed"===e.css("position")&&e.css(k._getPosition(!0)),f=this.getOrigPosition(),g.closeOpacity&&(f.opacity=0));e.animate(f,{duration:"none"===b?0:g.closeSpeed,easing:g.closeEasing,step:c?this.step:null,complete:k._afterZoomOut})},changeIn:function(){var e=k.wrap,g=k.current,h=g.nextEffect,b="elastic"===h,c=k._getPosition(b),f={opacity:1};c.opacity=0;b&&(c.top=q(parseInt(c.top,10)-200),f.top="+=200px");e.css(c).show().animate(f,{duration:"none"===h?0:g.nextSpeed,easing:g.nextEasing,complete:k._afterZoomIn})},changeOut:function(){var c=k.wrap,b=k.current,e=b.prevEffect,f={opacity:0};c.removeClass("fancybox-opened");"elastic"===e&&(f.top="+=200px");c.animate(f,{duration:"none"===e?0:b.prevSpeed,easing:b.prevEasing,complete:function(){l(this).trigger("onReset").remove()}})}};k.helpers.overlay={overlay:null,update:function(){var c,b;this.overlay.width("100%").height("100%");l.browser.msie||m?(c=Math.max(n.documentElement.scrollWidth,n.body.scrollWidth),b=Math.max(n.documentElement.offsetWidth,n.body.offsetWidth),c=c<b?o.width():c):c=t.width();this.overlay.width(c).height(t.height())},beforeShow:function(b){this.overlay||(b=l.extend(!0,{},k.defaults.helpers.overlay,b),this.overlay=l('<div id="fancybox-overlay"></div>').css(b.css).appendTo("body"),b.closeClick&&this.overlay.bind("click.fb",k.close),k.current.fixed&&!m?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()}),this.overlay.fadeTo(b.speedIn,b.opacity))},afterClose:function(b){this.overlay&&this.overlay.fadeOut(b.speedOut||0,function(){l(this).remove()});this.overlay=null}};k.helpers.title={beforeShow:function(b){var c;if(c=k.current.title){c=l('<div class="fancybox-title fancybox-title-'+b.type+'-wrap">'+c+"</div>").appendTo("body"),"float"===b.type&&(c.width(c.width()),c.wrapInner('<span class="child"></span>'),k.current.margin[2]+=Math.abs(parseInt(c.css("margin-bottom"),10))),c.appendTo("over"===b.type?k.inner:"outside"===b.type?k.wrap:k.skin)}}};l.fn.fancybox=function(e){var b=l(this),c=this.selector||"",f,g=function(h){var i=this,j=f,p;!h.ctrlKey&&!h.altKey&&!h.shiftKey&&!h.metaKey&&!l(i).is(".fancybox-wrap")&&(h.preventDefault(),h=e.groupAttr||"data-fancybox-group",p=l(i).attr(h),p||(h="rel",p=i[h]),p&&""!==p&&"nofollow"!==p&&(i=c.length?l(c):b,i=i.filter("["+h+'="'+p+'"]'),j=i.index(this)),e.index=j,k.open(i,e))},e=e||{};f=e.index||0;c?t.undelegate(c,"click.fb-start").delegate(c,"click.fb-start",g):b.unbind("click.fb-start").bind("click.fb-start",g);return this};l(n).ready(function(){k.defaults.fixed=l.support.fixedPosition||!(l.browser.msie&&6>=l.browser.version)&&!m})})(window,document,jQuery);